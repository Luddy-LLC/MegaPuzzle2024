<!DOCTYPE html>
<html lang="en" data-region="ithkiya" data-puzzle="music">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Musical Bards</title>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous">
    </script>
    <link rel="stylesheet" href="../../Common/puzzle.css" type="text/css"/>
    <link rel="stylesheet" href="style.css" type="text/css"/>
    <link rel="shortcut icon" type="image/x-icon" href="../../favicon.ico?">

</head>

<body>
    <nav class="navbar navbar-nav">
        <div class="navbar-nav">
            <a class="btn" href="../../">
                <svg aria-hidden="true" width="10px"><use href="../../Common/icons.svg#ppi-map" xlink:href="../../Common/icons.svg#ppi-map"></use></svg>    
                Map
            </a>
            <button class="btn">
                <svg aria-hidden="true"><use href="../../Common/icons.svg#ppi-unmuted" xlink:href="../../Common/icons.svg#ppi-unmuted"></use></svg>    
                Music
            </button>
        </div>
        <img src="../../Common/MPLogo.png" alt="Bootstrap" width="30" height="24">
        <div class="navbar-nav">
            <button class="btn" data-bs-toggle="modal" data-bs-target="#answer-modal">
                <svg aria-hidden="true"><use href="../../Common/icons.svg#ppi-check" xlink:href="../../Common/icons.svg#ppi-check"></use></svg>    
                Solve
            </button>
            <button class="btn" data-bs-toggle="offcanvas" data-bs-target="#offcanvasWithBothOptions">
                <svg aria-hidden="true"><use href="../../Common/icons.svg#ppi-lore" xlink:href="../../Common/icons.svg#ppi-lore"></use></svg>    
                Lore    
            </button>
        </div>
    </nav>

    <div class="container-fluid stage text-center"> 

        <div class="text-container">
        <h1 class="sr-only">Puzzle Prompt</h1>
        <div aria-label="Introduction">
            <p>
                Bards in a tavern are performing for an audience of only you.
            </p>
        </div>
        </div>

        <div class="overlay row bardrow align-items-center">
            <div div tabindex="0" class="col bardcol" data-focus="false"><img src="./assets/bard1.png" alt="" class="bard" id="bard1"/></div>
            <div div tabindex="0" class="col bardcol" data-focus="false"><img src="./assets/bard2.png" alt="" class="bard" id="bard2"/></div>
            <div div tabindex="0" class="col bardcol" data-focus="false"><img src="./assets/bard3.png" alt="" class="bard" id="bard3"/></div>
            <div div tabindex="0" class="col bardcol" data-focus="false"><img src="./assets/bard4.png" alt="" class="bard" id="bard4"/></div>
            <div div tabindex="0" class="col bardcol" data-focus="false"><img src="./assets/bard5.png" alt="" class="bard" id="bard5"/></div>
            <div div tabindex="0" class="col bardcol" data-focus="false"><img src="./assets/bard6.png" alt="" class="bard" id="bard6"/></div>
        </div>

        <div class="row  mb-4 d-md-flex justify-content-center">
            <button class="btn btn-primary" type="button" data-bs-toggle="offcanvas"
                data-bs-target="#hints">Hints</button>
        </div>
    </div>
    
    <audio id="current-audio" controls src="./assets/audio3.wav"></audio>

    <div class="rotate-phone">
        <div class="rotate-phone-info">
            <p class="rotate-phone-p">Please rotate your device</p>
            <img class="rotate-phone-img" src="./assets/rotate-phone.png">
            <p class="rotate-phone-p">This puzzle is horizontal</p>
        </div>
    </div>


    <aside>
        <div class="offcanvas offcanvas-end" data-bs-scroll="false" tabindex="-1" id="offcanvasWithBothOptions" aria-labelledby="lore-label">
            <div class="offcanvas-header">
                <h1 class="offcanvas-title" id="lore-label">Lore</h1>
                <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
            </div>
            <div class="offcanvas-body">
                <p>They say music is the woven in culture, and here in this place just outside of Et'Wixt's borders but still far from the mainland of Ithkiya is a prime oppurtunity for all kinds of cultures to meet. It is incredibly rare to see any stage be shared by people and instruments of such variety in background and sort, each picking music of their own to play together in unity. One could even go as far as to say that only here could such community among different folk be fostered. Spellcasters, ship hands, blacksmiths, and others each taking up the stage to entertain as a group is not a feat taken lightly.</p>
                <p>Many who flee the conquest of Et'Wixt seek Ithkiyan borders after hearing military tales about their successful rebuffs of Et'Wixt's encroachment, but those same folk often feel outcast in the already strictly defined cultural epicenter of Ithkiya on its main islands. This leads them to seek new homes more northward, towards smaller towns. Although this brings them closer to Et'Wixt's borders, the people further from Ithkiya's cultural epicenters tend to be more accustomed to seeing such migration, and therefore are often quite hospitable. Sometimes this hospitality even leads those who seek refuge from accross Et'Wixt's border itself to settle down before ever reaching those regions of Ithkiya that are stricter in nature.</p>
                <p>This tendancy often leads to these smaller towns developing their own complex and insular cultures that blend a variety of other cultures into one. musics troupes like this are an example of how that manifests into the entertainment of these towns by needing to cater to a wide variety of musical taste.</p>
                <div class="card mb-3 now-playing" style="max-width: 540px;">
                    <script src="https://cdnjs.cloudflare.com/ajax/libs/bodymovin/5.7.4/lottie.min.js"></script>
                    <div class="row g-0">
                        <div class="col-12">
                            <div class="card-body">
                                <div class="card-head">
                                    <img src="../../Common/wave.gif" class="img-fluid rounded-start" alt="...">
                                    <h1 class="text-body-secondary">Now Playing</h1>
                                </div>
                                <p class="card-title">Visions of Gideon</p>
                                <p class="card-text">Sufjan Stevens</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </aside>


    <!-- HINT ASIDE -->
    <aside>
        <div class="offcanvas offcanvas-start" data-bs-scroll="false" tabindex="-1" id="hints"
            aria-labelledby="lore-label">
            <div class="offcanvas-header">
                <h1 class="offcanvas-title" id="hints-label">Hints</h1>
                <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
            </div>
            <div class="offcanvas-body">
                <p>There's a whole bunch of really interesting hints going on... have a gander!</p>
            </div>
        </div>
    </aside>
        <!-- ANSWER CHECKING MODAL -->
        <div class="modal fade" id="answer-modal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true"
            data-bs-backdrop="static">
            <div class="modal-dialog">
                <div class="modal-content">
                    <form id="check-answer" class="form-floating needs-validation" autocomplete="on">
                        <div class="modal-header">
                            <h1 class="modal-title fs-5" id="exampleModalLabel">Check Puzzle Answer</h1>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <div class="modal-body">
                            <div class="form-floating mb-3">
                                <input pattern="[a-zA-Z]*"
                                    title="Letters only, please! No spaces, numbers, or special characters." type="text"
                                    class="form-control" id="answer" value="" placeholder="Puzzle Answer" required>
                                <label for="answer">Puzzle Answer</label>
                            </div>
                            <div class="form-floating mb-3" style="display: none;">
                                <input type="text" autocomplete="username" class="form-control" id="team" value=""
                                    placeholder="Team" required>
                                <label for="team">Team</label>
                            </div>
                            <div class="form-floating mb-3" style="display: none;">
                                <input type="text" autocomplete="given-name" class="form-control" id="person" value=""
                                    placeholder="Name" required>
                                <label for="person">Name</label>
                            </div>
                            <div class="form-floating mb-3" style="display: none;">
                                <input type="text" class="form-control" id="puzzle" value="" required readonly>
                                <label for="puzzle">Puzzle Name</label>
                            </div>
                            <small>Hi, <strong><span id="personName"></span></strong>. You're submitting
                                with team <strong><span id="teamName"></span></strong><br>
                                (or <button class="btn btn-link signout" onclick="signout()">Change
                                    User</button>)</small>
                            <div id="correct" class="valid-feedback">
                                Great job! That's correct :)<br>Be sure to save your answer for later.
                            </div>
                            <div id="incorrect" class="invalid-feedback">
                                Not quite... try again
                            </div>
                            <div id="technical-error" class="invalid-feedback">
                                Whoops... there was a technical issue. Please try again later...
                            </div>


                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                            <button type="submit" class="btn btn-primary">Check Answer</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>

        <!-- SIGN IN MODAL -->
        <div class="modal fade" id="signin-modal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true"
            data-bs-backdrop="static" data-bs-keyboard="false">
            <div class="modal-dialog">
                <div class="modal-content">
                    <form id="signin" class="form-floating needs-validation" autocomplete="on">
                        <div class="modal-header">
                            <h1 class="modal-title fs-5" id="exampleModalLabel">Welcome to Mega Puzzle!</h1>
                        </div>
                        <div class="modal-body">
                            <div class="mb-3"><small>Please enter your name and which team you're in.</small></div>
                            <div class="form-floating mb-3">
                                <input type="text" autocomplete="given-name" class="form-control" id="signin-person"
                                    value="" placeholder="Name" required>
                                <label for="person">Your Name</label>
                            </div>
                            <div class="form-floating mb-3">
                                <input type="text" autocomplete="username" class="form-control" id="signin-team"
                                    value="" placeholder="Team" name="" required>
                                <label for="team">Team Name</label>
                                <div class="form-text" id="basic-addon4"><strong>Not in a team yet?</strong> Grab
                                    some friends and enter a name to create a team. Then, your friends can use this
                                    same team name when signing in.</div>
                            </div>

                        </div>
                        <div class="modal-footer">
                            <button class="btn btn-primary"
                                onclick="signUserIn(document.getElementById('signin'));">Start Adventure</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>

<audio id="audio-player" controls src=""></audio>

    <script src="../../Common/puzzle.js"></script>
    <script src="script.js"></script>
</body>

</html>