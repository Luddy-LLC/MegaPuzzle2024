<!-- TODO: Fine-tune poems for approriateness and clarity -->
<!DOCTYPE html>
<html lang="en" data-region="etwixt" data-puzzle="preoccupational">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Preoccupational</title>
    <script src="https://nouveaureece.github.io/Puzzlestrap/js/bootstrap.bundle.js"></script>
    <link type="text/css" rel="stylesheet" href="../../Common/puzzle.css">
    <link rel="shortcut icon" type="image/x-icon" href="../../favicon.ico?">
    <link type="text/css" rel="stylesheet" href="style.css">
</head>

<body>
    <nav class="navbar navbar-nav">
        <div class="navbar-nav">
            <a class="btn" href="../../">
                <svg aria-hidden="true" width="10px">
                    <use href="../../Common/icons.svg#ppi-map" xlink:href="../../Common/icons.svg#ppi-map"></use>
                </svg>
                Map
            </a>
            <button class="btn">
                <svg aria-hidden="true">
                    <use href="../../Common/icons.svg#ppi-unmuted" xlink:href="../../Common/icons.svg#ppi-unmuted"></use>
                </svg>
                Music
            </button>
        </div>
        <img src="../../Common/MPLogo.png" alt="Bootstrap" width="30"
            height="24">
        <div class="navbar-nav">
            <button class="btn" data-bs-toggle="modal" data-bs-target="#answer-modal">
                <svg aria-hidden="true">
                    <use href="../../Common/icons.svg#ppi-check" xlink:href="../../Common/icons.svg#ppi-check"></use>
                </svg>
                Solve
            </button>
            <button class="btn" data-bs-toggle="offcanvas" data-bs-target="#offcanvasWithBothOptions">
                <svg aria-hidden="true">
                    <use href="../../Common/icons.svg#ppi-lore" xlink:href="../../Common/icons.svg#ppi-lore"></use>
                </svg>
                Lore
            </button>
        </div>
    </nav>

    <main class="container">

        <!-- Reece's Changes -->
        <!-- Fixed heading hiearchy, which prevented screen reader navigation via heading control -->
        <!-- Future Notes: In the future, always be sure to go H1 > H2 > H3, to ensure navigational controls are preserved for non-sighted users. -->
        <div class=" poem-wrapper text-container">
            <h1 class="sr-only">Puzzle Description</h1>
            <p class="text-desc">
                Ibbidy-dibbidy<br>
                Petey Pteranodon<br>
                when he grows up, he knows<br>
                just who he'll be.<br>
            </p>
            <p class="text-desc">
                Whether the order is,<br>
                abecedarian,<br>
                or chronological<br>
                there he will be.<br>
            </p>
        </div>

        <div class="poem-wrapper">

            <div class="poem text-container-dark">
                <p>
                    Higgledy-piggledy,<br>
                    Petey Pteranodon,<br>
                    twenty-third President,<br>
                    was, and, as such,<br>
                </p>
                <p>
                    Served between Clevelands but<br>
                    save for this trivial<br>
                    idiosyncrasy,<br>
                    didn't do much.<br>
                </p>
            </div>
            <div class="poem text-container-dark">
                <p>
                    In Massachussetts, dear<br>
                    Petey Pteranodon<br>
                    lived in seclusion, was<br>
                    never a wife;<br>
                </p>
                <p>
                    Wrote many poems most<br>
                    anthropocentrically,<br>
                    talking with God, Satan,<br>
                    Death, all her life.<br>
                </p>
            </div>
            <div class="poem text-container-dark">
                <p>
                    Tatooine-schmatooine,<br>
                    Petey Pteranodon,<br>
                    strong in the force 'cause it's<br>
                    kind of his dad.<br>
                </p>
                <p>
                    Pro-dictatorial<br>
                    politics messed up his<br>
                    life and his wife and he<br>
                    ended up bad.<br>
                </p>
            </div>
            <div class="poem text-container-dark">
                <p>
                    Normandy-Normandy<br>
                    Petey Pteranodon<br>
                    channeled his strength against<br>
                    Celtics and Picts.<br>
                </p>
                <p>
                    Domesday Book sponsor and<br>
                    founder of juries, he's<br>
                    mainly remembered for<br>
                    1066.<br>
                </p>
            </div>
            <div class="poem text-container-dark">
                <p>
                    Jiggery-pokery<br>
                    Petey Pteranodon<br>
                    murdered his father, and<br>
                    named a complex.<br>
                </p>
                <p>
                    His mad debauch, not so<br>
                    incomprehensibly,<br>
                    left poor Jocasta and<br>
                    Petey as Wrecks.<br>
                </p>
            </div>
            <div class="poem text-container-dark">
                <p>
                    Petey Pteranodon,<br>
                    Doomed heroine in a<br>
                    Russian (pre-Lenin)<br>
                    account I once read,<br>
                </p>
                <p>
                    May have been fictional;<br>
                    still, that depiction of<br>
                    steam engine friction will<br>
                    stick in your head.<br>
                </p>
            </div>
            <div class="poem text-container-dark">
                <p>
                    Pocketa-pocketa,<br>
                    Petey Pteranodon,<br>
                    turned into film star by<br>
                    Richard Bach's greed.<br>
                </p>
                <p>
                    Monomaniacal<br>
                    aerodynamicists<br>
                    cinemographically<br>
                    seldom succeed.<br>
                </p>
            </div>
            <div class="poem text-container-dark">
                <p>
                    Petey Pteranodon<br>
                    needed some cash, so he<br>
                    vilely betrayed the Lord<br>
                    Jesus, we're told.<br>
                </p>
                <p>
                    Sadly, such greed is an<br>
                    anthropological<br>
                    trait - we are tempted by<br>
                    silver and gold.<br>
                </p>
            </div>
            <div class="poem text-container-dark">
                <p>
                    &ldquo;Elendil!, Elendil!&rdquo;<br>
                    Petey Pteranodon,<br>
                    king who returned, of old<br>
                    N&#250;menor's line,<br>
                </p>
                <p>
                    Middleterrestrial,<br>
                    octogenarian,<br>
                    best of all men yet still<br>
                    gentle and kind.<br>
                </p>
            </div>
            <div class="poem text-container-dark">
                <p>
                    Phrygian-phrygian<br>
                    Petey Pteranodon<br>
                    bored by requests for some<br>
                    music to hum,<br>
                </p>
                <p>
                    Finally answered with<br>
                    oversimplicity<br>
                    "Here's my Fifth Symphony:<br>
                    Duh, duh, duh, DUM!"<br>
                </p>
            </div>
            <div class="poem text-container-dark">
                <p>
                    Frippety-froppety,<br>
                    Petey Pteranodon<br>
                    fiscal magician,<br>
                    unrivaled, as yet,<br>
                </p>
                <p>
                    Armed with the New Deal, he<br>
                    passed many bills, and we<br>
                    unmathematically<br>
                    got out of debt.<br>
                </p>
            </div>
        </div>

        
    <div class="d-grid gap-2 mt-4 mb-4 d-md-flex justify-content-md-center"> 
            <button class="btn btn-primary" type="button" data-bs-toggle="offcanvas" data-bs-target="#hints">Hints</button>
        </div>
    </main>

    <aside>
        <div class="offcanvas offcanvas-end" data-bs-scroll="false" tabindex="-1" id="offcanvasWithBothOptions"
            aria-labelledby="lore-label">
            <div class="offcanvas-header">
                <h1 class="offcanvas-title" id="lore-label">Lore</h1>
                <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
            </div>
            <div class="offcanvas-body">
                <p>The bridge keeper of this particular passageway is renouned for their nonsense passphrases, refusing those who answer incorrectly. From what I understand he is supposed to let noone through, but in the isolation tries to find ways to engage with passerbys nonetheless. Because he is not supposed to let anyone through, most believe the riddles to be nonsense, but I don't think they're as nonsense as most believe. Convoluted, yes, but nonsense? No. </p>
                <p>Someone who spends all their days standing vigil over a hardly trodden path without a soul to keep you company but the birds and the waves sounds peaceful at first, but would ultimately leave much time to think. If one only has time to think, they would do it quite a lot. I believe this must be why the guard's riddles are so convoluted and also why they seem to take such fiendish pleasure in those who wish to pass but fail to answer correctly, being turned away in the process. Its hard to imagine what I would do to preoccupy myself in such a situation.</p>
                
                <div class="card mb-3 now-playing" style="max-width: 540px;">
                    <script src="https://cdnjs.cloudflare.com/ajax/libs/bodymovin/5.7.4/lottie.min.js"></script>
                    <div class="row g-0">
                        <div class="col-12">
                            <div class="card-body">
                                <div class="card-head">
                                    <img src="/Common/wave.gif" class="img-fluid rounded-start" alt="...">
                                    <h1 class="text-body-secondary">Now Playing</h1>
                                </div>
                                <p class="card-title">Visions of Gideon</p>
                                <p class="card-text">Sufjan Stevens</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </aside>


    <!-- HINT ASIDE -->
    <aside>
        <div class="offcanvas offcanvas-start" data-bs-scroll="false" tabindex="-1" id="hints"
            aria-labelledby="lore-label">
            <div class="offcanvas-header">
                <h1 class="offcanvas-title" id="hints-label">Hints</h1>
                <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
            </div>
            <div class="offcanvas-body">
                <p>There doesn't seem to be any hints here yet. Come back later!</p>
            </div>
        </div>
    </aside>

    <!-- ANSWER CHECKING MODAL -->
    <div class="modal fade" id="answer-modal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true"
        data-bs-backdrop="static">
        <div class="modal-dialog">
            <div class="modal-content">
                <form id="check-answer" class="form-floating needs-validation" autocomplete="on">
                    <div class="modal-header">
                        <h1 class="modal-title fs-5" id="exampleModalLabel">Check Puzzle Answer</h1>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        <div class="form-floating mb-3">
                            <input pattern="[a-zA-Z]*"
                                title="Letters only, please! No spaces, numbers, or special characters." type="text"
                                class="form-control" id="answer" value="" placeholder="Puzzle Answer" required>
                            <label for="answer">Puzzle Answer</label>
                        </div>
                        <div class="form-floating mb-3" style="display: none;">
                            <input type="text" autocomplete="username" class="form-control" id="team" value=""
                                placeholder="Team" required>
                            <label for="team">Team</label>
                        </div>
                        <div class="form-floating mb-3" style="display: none;">
                            <input type="text" autocomplete="given-name" class="form-control" id="person" value=""
                                placeholder="Name" required>
                            <label for="person">Name</label>
                        </div>
                        <div class="form-floating mb-3" style="display: none;">
                            <input type="text" class="form-control" id="puzzle" value="" required readonly>
                            <label for="puzzle">Puzzle Name</label>
                        </div>
                        <small>Hi, <strong><span id="personName"></span></strong>. You're submitting
                            with team <strong><span id="teamName"></span></strong><br>
                            (or <button class="btn btn-link signout" onclick="signout()">Change
                                User</button>)</small>
                        <div id="correct" class="valid-feedback">
                            Great job! That's correct :)<br>Be sure to save your answer for later.
                        </div>
                        <div id="incorrect" class="invalid-feedback">
                            Not quite... try again
                        </div>
                        <div id="technical-error" class="invalid-feedback">
                            Whoops... there was a technical issue. Please try again later...
                        </div>


                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                        <button type="submit" class="btn btn-primary">Check Answer</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- SIGN IN MODAL -->
    <div class="modal fade" id="signin-modal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true"
        data-bs-backdrop="static" data-bs-keyboard="false">
        <div class="modal-dialog">
            <div class="modal-content">
                <form id="signin" class="form-floating needs-validation" autocomplete="on">
                    <div class="modal-header">
                        <h1 class="modal-title fs-5" id="exampleModalLabel">Welcome to Mega Puzzle!</h1>
                    </div>
                    <div class="modal-body">
                        <div class="mb-3"><small>Please enter your name and which team you're in.</small></div>
                        <div class="form-floating mb-3">
                            <input type="text" autocomplete="given-name" class="form-control" id="signin-person"
                                value="" placeholder="Name" required>
                            <label for="person">Your Name</label>
                        </div>
                        <div class="form-floating mb-3">
                            <input type="text" autocomplete="username" class="form-control" id="signin-team" value=""
                                placeholder="Team" name="" required>
                            <label for="team">Team Name</label>
                            <div class="form-text" id="basic-addon4"><strong>Not in a team yet?</strong> Grab
                                some friends and enter a name to create a team. Then, your friends can use this
                                same team name when signing in.</div>
                        </div>

                    </div>
                    <div class="modal-footer">
                        <button class="btn btn-primary" onclick="signUserIn(document.getElementById('signin'));">Start
                            Adventure</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

<audio id="audio-player" controls src=""></audio>

    <script src="../../Common/puzzle.js"></script>
    <script src="script.js"></script>
</body>

`

</html>
