<!DOCTYPE html>
<html lang="en" data-region="aavikk" data-puzzle="forced-mate">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Forced Checkmate</title>
    <script src="https://nouveaureece.github.io/Puzzlestrap/js/bootstrap.bundle.js"></script>
    <link type="text/css" rel="stylesheet" href="../../Common/puzzle.css">
    <link type="text/css" rel="stylesheet" href="style.css">

</head>

<body>
    <nav class="navbar navbar-nav">
        <div class="navbar-nav">
            <a class="btn" href="../..">
                <svg aria-hidden="true" width="10px">
                    <use href="../../Common/icons.svg#ppi-map" xlink:href="../../Common/icons.svg#ppi-map"></use>
                </svg>
                Map
            </a>
            <button class="btn">
                <svg aria-hidden="true">
                    <use href="../../Common/icons.svg#ppi-unmuted" xlink:href="../../Common/icons.svg#ppi-unmuted"></use>
                </svg>
                Music
            </button>
        </div>
        <img src="https://getbootstrap.com/docs/5.3/assets/brand/bootstrap-logo-shadow.png" alt="Bootstrap" width="30"
            height="24">
        <div class="navbar-nav">
            <button class="btn" data-bs-toggle="modal" data-bs-target="#answer-modal">
                <svg aria-hidden="true">
                    <use href="../../Common/icons.svg#ppi-check" xlink:href="../../Common/icons.svg#ppi-check"></use>
                </svg>
                Solve
            </button>
            <button class="btn" data-bs-toggle="offcanvas" data-bs-target="#offcanvasWithBothOptions">
                <svg aria-hidden="true">
                    <use href="../../Common/icons.svg#ppi-lore" xlink:href="../../Common/icons.svg#ppi-lore"></use>
                </svg>
                Lore
            </button>
        </div>
    </nav>

    <div class="header"> 

        <!-- CONTENT GOES HERE, WITHIN CONTAINER -->

        <div class="text-container container" id="puzzle-desc">
        <h1 class="sr-only">Puzzle Prompt</h1>
        <div aria-label="Introduction">
            <p>
                The man on the cliffside challenges you to a game. How do you respond to his moves?
            </p>
        </div>
        </div>
    </div>

    <main class="container">
        <div class="puzzle-content boards">
            <div class="row p-2">
                <div class="col">
                    <img src="assets/position1.gif" class="img-fluid"
                        alt="A chess position: r2r2qk/1b1P2pp/pb6/1P3Q2/P1P1Bn2/2N3P1/8/R6K w - - 1 3" />
                </div>
                <div class="col">
                    <img src="assets/position2.gif" class="img-fluid"
                        alt="A chess position: rq1Rnk2/8/3P4/2b2Pp1/2B5/3Np1p1/5QPP/B4NKR w - g6 0 3" />
                </div>
            </div>
            <div class="row p-2">
                <div class="col">
                    <img src="assets/position3.gif" class="img-fluid"
                        alt="A chess position: 6q1/2P1R3/3k4/K1n5/8/8/6B1/1r5Q w - - 1 2" />
                </div>
                <div class="col">
                    <img src="assets/position4.gif" class="img-fluid"
                        alt="A chess position: r6k/1bp3pp/2N3p1/pp1K4/6P1/4Q3/5b2/8 w - - 0 2" />
                </div>
            </div>
            <div class="row p-2">
                <div class="col">
                    <img src="assets/position5.gif" class="img-fluid"
                        alt="A chess position: 4Nb1q/2B3pk/7p/8/R7/8/P2n4/KN4R1 w - - 1 2" />
                </div>
                <div class="col">
                    <img src="assets/position6.gif" class="img-fluid"
                        alt="A chess position: r7/7R/2p5/2p5/B7/N2nKP2/q2p3Q/1rk1N3 w - - 0 2" />
                </div>
            </div>
            <div class="row p-2">
                <div class="col">
                    <img src="assets/position7.gif" class="img-fluid"
                        alt="A chess position: 8/8/1q3np1/5bkp/4n1pb/Q3p1B1/6BP/R5K1 w - - 2 3" />
                </div>
                <div class="col">
                    <img src="assets/Screenshot (132).png" class="img-fluid">
                    <div id="empty" class="sr-only">
                        <table>
                            <tr>
                                <td>Q</td>
                                <td>U</td>
                                <td>L</td>
                                <td>D</td>
                                <td>E</td>
                                <td>K</td>
                                <td>W</td>
                                <td>A</td>
                            </tr>
                            <tr>
                                <td>F</td>
                                <td>M</td>
                                <td>I</td>
                                <td>O</td>
                                <td>X</td>
                                <td>R</td>
                                <td>N</td>
                                <td>S</td>
                            </tr>
                            <tr>
                                <td>T</td>
                                <td>P</td>
                                <td>S</td>
                                <td>U</td>
                                <td>I</td>
                                <td>Z</td>
                                <td>I</td>
                                <td>B</td>
                            </tr>
                            <tr>
                                <td>H</td>
                                <td>H</td>
                                <td>E</td>
                                <td>J</td>
                                <td>T</td>
                                <td>R</td>
                                <td>D</td>
                                <td>J</td>
                            </tr>
                            <tr>
                                <td>W</td>
                                <td>I</td>
                                <td>R</td>
                                <td>E</td>
                                <td>Q</td>
                                <td>P</td>
                                <td>F</td>
                                <td>S</td>
                            </tr>
                            <tr>
                                <td>D</td>
                                <td>F</td>
                                <td>S</td>
                                <td>A</td>
                                <td>E</td>
                                <td>O</td>
                                <td>L</td>
                                <td>V</td>
                            </tr>
                            <tr>
                                <td>E</td>
                                <td>K</td>
                                <td>C</td>
                                <td>C</td>
                                <td>R</td>
                                <td>F</td>
                                <td>J</td>
                                <td>Z</td>
                            </tr>
                            <tr>
                                <td>S</td>
                                <td>L</td>
                                <td>N</td>
                                <td>E</td>
                                <td>R</td>
                                <td>S</td>
                                <td>X</td>
                                <td>E</td>
                            </tr>
                        </table>
                    </div>
                </div>
            </div>

        </div>

        <div class="d-grid gap-2 mt-4 mb-4 d-md-flex justify-content-md-center"> 
            <a class="btn btn-primary" href="https://lichess.org/editor">
                Launch Chessboard
            </a>
        </div>


        <div class="d-grid gap-2 mt-4 mb-4 d-md-flex justify-content-md-center"> 
            <button class="btn btn-primary" type="button" data-bs-toggle="offcanvas" data-bs-target="#hints">Hints</button>
        </div>
    </main>


    <aside>
        <div class="offcanvas offcanvas-end" data-bs-scroll="false" tabindex="-1" id="offcanvasWithBothOptions"
            aria-labelledby="lore-label">
            <div class="offcanvas-header">
                <h1 class="offcanvas-title" id="lore-label">Lore</h1>
                <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
            </div>
            <div class="offcanvas-body">
                <p>The man on the hill is an enigmatic figure. A legend, in his own right. Said legend goes that he is the only being to face the Dragon of Dyrzai in a competition of wits and win. Ever since his victory he has entererd a state of retirment. To keep his mind sharp, though, he travels up the hill by his house each day from noon till sunset as an open challenge to anyone willing to try their wits against his. </p>
                <p>He is one of the few people of Aavikk known to be left alive by the dragon. Many speculate that this was some act of respect from the dragon to spare him from the conflagration, but others simply believe that the dragon deemed his distance from civilization to render him a non-threat. Regardless, his house is one of the few ancient Aavikkian structures left standing due to his diligent maintenance.</p>
                <p>He would likely be surpassigly helpful in both my studies of Aavikk and my current efforts if he had any reason to be, but unfortunately he seems none too keen on overshadowing his own legend. Despite this he can't seem to help assissting a little by creating this little puzzle of his, if only to show off his own aptitude after all these years.</p>
                <div class="card mb-3 now-playing" style="max-width: 540px;">
                    <script src="https://cdnjs.cloudflare.com/ajax/libs/bodymovin/5.7.4/lottie.min.js"></script>
                    <div class="row g-0">
                        <div class="col-12">
                            <div class="card-body">
                                <div class="card-head">
                                    <img src="../../Common/wave.gif" class="img-fluid rounded-start" alt="...">
                                    <h1 class="text-body-secondary">Now Playing</h1>
                                </div>
                                <p class="card-title">Visions of Gideon</p>
                                <p class="card-text">Sufjan Stevens</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </aside>


    <!-- HINT ASIDE -->
    <aside>
        <div class="offcanvas offcanvas-start" data-bs-scroll="false" tabindex="-1" id="hints"
            aria-labelledby="lore-label">
            <div class="offcanvas-header">
                <h1 class="offcanvas-title" id="hints-label">Hints</h1>
                <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
            </div>
            <div class="offcanvas-body">
                <p>There's a whole bunch of really interesting hints going on... have a gander!</p>
            </div>
        </div>
    </aside>
    <!-- ANSWER CHECKING MODAL -->
    <div class="modal fade" id="answer-modal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true"
        data-bs-backdrop="static">
        <div class="modal-dialog">
            <div class="modal-content">
                <form id="check-answer" class="form-floating needs-validation" autocomplete="on">
                    <div class="modal-header">
                        <h1 class="modal-title fs-5" id="exampleModalLabel">Check Puzzle Answer</h1>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        <div class="form-floating mb-3">
                            <input pattern="[a-zA-Z]*"
                                title="Letters only, please! No spaces, numbers, or special characters." type="text"
                                class="form-control" id="answer" value="" placeholder="Puzzle Answer" required>
                            <label for="answer">Puzzle Answer</label>
                        </div>
                        <div class="form-floating mb-3" style="display: none;">
                            <input type="text" autocomplete="username" class="form-control" id="team" value=""
                                placeholder="Team" required>
                            <label for="team">Team</label>
                        </div>
                        <div class="form-floating mb-3" style="display: none;">
                            <input type="text" autocomplete="given-name" class="form-control" id="person" value=""
                                placeholder="Name" required>
                            <label for="person">Name</label>
                        </div>
                        <div class="form-floating mb-3" style="display: none;">
                            <input type="text" class="form-control" id="puzzle" value="" required readonly>
                            <label for="puzzle">Puzzle Name</label>
                        </div>
                        <small>Hi, <strong><span id="personName"></span></strong>. You're submitting
                            with team <strong><span id="teamName"></span></strong><br>
                            (or <button class="btn btn-link signout" onclick="signout()">Change
                                User</button>)</small>
                        <div id="correct" class="valid-feedback">
                            Great job! That's correct :)<br>Be sure to save your answer for later.
                        </div>
                        <div id="incorrect" class="invalid-feedback">
                            Not quite... try again
                        </div>
                        <div id="technical-error" class="invalid-feedback">
                            Whoops... there was a technical issue. Please try again later...
                        </div>


                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                        <button type="submit" class="btn btn-primary">Check Answer</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- SIGN IN MODAL -->
    <div class="modal fade" id="signin-modal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true"
        data-bs-backdrop="static" data-bs-keyboard="false">
        <div class="modal-dialog">
            <div class="modal-content">
                <form id="signin" class="form-floating needs-validation" autocomplete="on">
                    <div class="modal-header">
                        <h1 class="modal-title fs-5" id="exampleModalLabel">Welcome to Mega Puzzle!</h1>
                    </div>
                    <div class="modal-body">
                        <div class="mb-3"><small>Please enter your name and which team you're in.</small></div>
                        <div class="form-floating mb-3">
                            <input type="text" autocomplete="given-name" class="form-control" id="signin-person"
                                value="" placeholder="Name" required>
                            <label for="person">Your Name</label>
                        </div>
                        <div class="form-floating mb-3">
                            <input type="text" autocomplete="username" class="form-control" id="signin-team" value=""
                                placeholder="Team" name="" required>
                            <label for="team">Team Name</label>
                            <div class="form-text" id="basic-addon4"><strong>Not in a team yet?</strong> Grab
                                some friends and enter a name to create a team. Then, your friends can use this
                                same team name when signing in.</div>
                        </div>

                    </div>
                    <div class="modal-footer">
                        <button class="btn btn-primary" onclick="signUserIn(document.getElementById('signin'));">Start
                            Adventure</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

<audio id="audio-player" controls src=""></audio>

    <script src="../../Common/puzzle.js"></script>
    <script src="script.js"></script>
</body>

</html>
